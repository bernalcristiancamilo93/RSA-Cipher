"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:($,q,P)=>{P.r(q),P.d(q,{HomePageModule:()=>M});var N=P(6895),r=P(6114),t=P(433),A=P(2598),e=P(8256);function w(n,b){if(1&n){const o=e.EpF();e.TgZ(0,"ion-checkbox",21),e.NdJ("ngModelChange",function(i){const c=e.CHM(o).$implicit;return e.KtG(c.checked=i)}),e._uU(1),e.ALo(2,"uppercase"),e.qZA()}if(2&n){const o=b.$implicit;e.Q6J("ngModel",o.checked)("checked",o.checked),e.xp6(1),e.hij(" ",e.lcZ(2,3,o.value)," ")}}const E=[{path:"",component:(()=>{class n{constructor(o){this.alertCtrl=o,this.alfabeto=[{value:"a",checked:!0},{value:"b",checked:!0},{value:"c",checked:!0},{value:"d",checked:!0},{value:"e",checked:!0},{value:"f",checked:!0},{value:"g",checked:!0},{value:"h",checked:!0},{value:"i",checked:!0},{value:"j",checked:!0},{value:"k",checked:!0},{value:"l",checked:!0},{value:"m",checked:!0},{value:"n",checked:!0},{value:"\xf1",checked:!0},{value:"o",checked:!0},{value:"p",checked:!0},{value:"q",checked:!0},{value:"r",checked:!0},{value:"s",checked:!0},{value:"t",checked:!0},{value:"u",checked:!0},{value:"v",checked:!0},{value:"w",checked:!0},{value:"x",checked:!0},{value:"y",checked:!0},{value:"z",checked:!0},{value:"0",checked:!1},{value:"1",checked:!1},{value:"2",checked:!1},{value:"3",checked:!1},{value:"4",checked:!1},{value:"5",checked:!1},{value:"6",checked:!1},{value:"7",checked:!1},{value:"8",checked:!1},{value:"9",checked:!1}],this.rsaForm=new t.cw({numeroLetrasPorBloque:new t.NI(2,t.kI.required),selectorFuncion:new t.NI("cifrar",t.kI.required),claveP:new t.NI(null,t.kI.required),claveQ:new t.NI(null,t.kI.required),claveE:new t.NI(null,t.kI.required),claveD:new t.NI(null),claveN:new t.NI(null),clavePhiN:new t.NI(null),mensajePlano:new t.NI("publico",t.kI.required),mensajeFormateado:new t.NI(null),mensajeFinal:new t.NI(null)})}generarClaves(){var o,a,i,s,c,g,m;if(!this.numLetrasPorBloqueCorrecto())return void this.alertCtrl.create({header:"\xa1Error!",message:"El n\xfamero de letras por bloque es incorrecto.",buttons:["Okay"]}).then(l=>{l.present()});const f=null===(o=this.rsaForm.get("claveP"))||void 0===o?void 0:o.value,h=null===(a=this.rsaForm.get("claveQ"))||void 0===a?void 0:a.value,d=null===(i=this.rsaForm.get("claveE"))||void 0===i?void 0:i.value;if(null==f||null==h||null==d)return void this.alertCtrl.create({header:"\xa1Error!",message:"Ingrese las claves completas",buttons:["Okay"]}).then(l=>{l.present()});if(!this.esPrimo(f)||!this.esPrimo(h))return;const p=f*h,k=(f-1)*(h-1),v=null===(s=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===s?void 0:s.value,u=Math.pow(this.totalLetrasAlfabeto(),v),C=Math.pow(this.totalLetrasAlfabeto(),v+1);if(console.log(p),console.log(u),console.log(C),!(u<p&&p<C))return void this.alertCtrl.create({header:"\xa1Error!",message:"N no cumple la igualdad. Seleccione un n\xfamero de letras por\n            bloque distinto.",buttons:["Okay"]}).then(l=>{l.present()});if(d>=p||d<=1)return void this.alertCtrl.create({header:"\xa1Error!",message:"El valor de e no es permitido",buttons:["Okay"]}).then(l=>{l.present()});for(let l=2;l<d;l++)if(d%l==0&&k%l==0)return void this.alertCtrl.create({header:"\xa1Error!",message:"El valor de e no es primo relativo de Phi(N)",buttons:["Okay"]}).then(Z=>{Z.present()});let F=0;for(let l=1;l<k;l++)if((l*k+1)%d==0){F=(l*k+1)/d;break}null===(c=this.rsaForm.get("claveD"))||void 0===c||c.patchValue(F),null===(g=this.rsaForm.get("claveN"))||void 0===g||g.patchValue(p),null===(m=this.rsaForm.get("clavePhiN"))||void 0===m||m.patchValue(k)}esPrimo(o){if(2===o||3===o)return!0;if(o<=1||o%2==0||o%3==0)return this.alertaPrimo(o),!1;for(let a=5;a*a<o;a+=6)if(o%a==0||o%(a+2)==0)return this.alertaPrimo(o),!1;return!0}alertaPrimo(o){this.alertCtrl.create({header:"\xa1Error!",message:`${o} no es un n\xfamero primo`,buttons:["Okay"]}).then(a=>{a.present()})}totalLetrasAlfabeto(){let o=0;for(let a of this.alfabeto)a.checked&&o++;return o}calcular(){var o,a,i,s;const c=null===(o=this.rsaForm.get("selectorFuncion"))||void 0===o?void 0:o.value,g=null===(a=this.rsaForm.get("claveE"))||void 0===a?void 0:a.value,m=null===(i=this.rsaForm.get("claveN"))||void 0===i?void 0:i.value,f=null===(s=this.rsaForm.get("claveD"))||void 0===s?void 0:s.value;if("cifrar"===c&&null!==g&&null!==m){var h,d,p,k;if(!this.numLetrasPorBloqueCorrecto())return void this.alertCtrl.create({header:"\xa1Error!",message:"El n\xfamero de letras por bloque es incorrecto.",buttons:["Okay"]}).then(l=>{l.present()});let v=null===(h=this.rsaForm.get("mensajePlano"))||void 0===h?void 0:h.value;if(null===v||""===v)return;v=null===(d=this.rsaForm.get("mensajePlano"))||void 0===d?void 0:d.value.toUpperCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()!\xa1\xbf?]/g,"");const u=null===(p=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===p?void 0:p.value;if(v.length%u!=0){const l=u-v.length%u,Z="X";for(let _=0;_<l;_++)v+=Z}null===(k=this.rsaForm.get("mensajeFormateado"))||void 0===k||k.patchValue(v);const C=Math.pow(this.totalLetrasAlfabeto(),u),F=Math.pow(this.totalLetrasAlfabeto(),u+1);if(m<=C||m>=F)return void this.alertCtrl.create({header:"\xa1Error!",message:"N no cumple la igualdad. Seleccione un n\xfamero de letras por\n            bloque distinto.",buttons:["Okay"]}).then(l=>{l.present()});this.cifrado()}else{if("descifrar"!==c||null===f||null===m)return void this.alertCtrl.create({header:"\xa1Error!",message:"Ingrese las claves.",buttons:["Okay"]}).then(v=>{v.present()});this.descifrado()}}cifrado(){var o,a,i,s,c;const g=null===(o=this.rsaForm.get("mensajeFormateado"))||void 0===o?void 0:o.value.split("");let m=[];for(const u of g)m.push(this.asignarPeso(u));let f=[];const h=null===(a=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===a?void 0:a.value;for(let u=0;u<m.length;u+=h){let C="";for(let F=0;F<h;F++)C+=m[u+F];f.push(+C)}let d=[];const p=null===(i=this.rsaForm.get("claveE"))||void 0===i?void 0:i.value,k=null===(s=this.rsaForm.get("claveN"))||void 0===s?void 0:s.value;for(const u of f)d.push(this.calculoExponenteModulo(u,p,k));for(const u of d);null===(c=this.rsaForm.get("mensajeFinal"))||void 0===c||c.patchValue(d)}descifrado(){var o,a,i,s;const c=null===(o=this.rsaForm.get("mensajePlano"))||void 0===o?void 0:o.value.split(",");console.log("mensajeParticionado",c);let g=[];const m=null===(a=this.rsaForm.get("claveD"))||void 0===a?void 0:a.value,f=null===(i=this.rsaForm.get("claveN"))||void 0===i?void 0:i.value;for(const h of c)g.push(this.calculoExponenteModulo(+h,m,f));console.log("pesosCifrados",g),null===(s=this.rsaForm.get("mensajeFinal"))||void 0===s||s.patchValue(g)}asignarPeso(o){return this.letrasActivas().findIndex(a=>a.value.toUpperCase()===o)}letrasActivas(){return this.alfabeto.filter(o=>!0===o.checked)}numLetrasPorBloqueCorrecto(){var o;return(null===(o=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===o?void 0:o.value)>0}calculoExponenteModulo(o,a,i){if(1===i)return 0;let s=1;for(let c=0;c<a;c++)s=s*o%i;return s}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(r.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:67,vars:2,consts:[[1,"main-card"],[3,"formGroup"],[1,"ion-margin"],[1,"ion-align-items-center","ion-margin"],["lines","none"],["formControlName","selectorFuncion"],["value","cifrar",1,"ion-margin-bottom"],["value","descifrar",1,"ion-margin-bottom"],["formControlName","numeroLetrasPorBloque","label","Letras por Bloque","labelPlacement","floating","type","number"],[1,"ion-align-items-center"],["label","p","formControlName","claveP","type","number","placeholder","Ingrese un n\xfamero primo","labelPlacement","stacked"],["label","q","formControlName","claveQ","type","number","placeholder","Ingrese un n\xfamero primo","labelPlacement","stacked"],["label","e","formControlName","claveE","type","number","placeholder","Clave de cifrado","labelPlacement","stacked"],[3,"click"],["label","N","formControlName","claveN","type","number","placeholder","N\xfamero N","labelPlacement","floating"],["label","\u03a6(N)","formControlName","clavePhiN","type","number","placeholder","N\xfamero \u03a6(N)","labelPlacement","floating","readonly","true"],["label","d","formControlName","claveD","type","number","placeholder","Clave de descifrado","labelPlacement","floating"],["label","Mensaje","formControlName","mensajePlano","labelPlacement","stacked","placeholder","Ingrese su mensaje ac\xe1","autoGrow","true","rows","1"],["label","Mensaje Formateado","formControlName","mensajeFormateado","labelPlacement","floating","placeholder","El mensaje formateado aparecer\xe1 ac\xe1","readonly","true","autoGrow","true","rows","1"],["label","Mensaje Final","formControlName","mensajeFinal","labelPlacement","floating","placeholder","El mensaje cifrado / descifrado aparecer\xe1 ac\xe1","readonly","true","autoGrow","true","rows","1"],["class","ion-margin",3,"ngModel","checked","ngModelChange",4,"ngFor","ngForOf"],[1,"ion-margin",3,"ngModel","checked","ngModelChange"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Cifrado RSA para CAYD - C. Camilo Bernal "),e.qZA()()(),e.TgZ(4,"ion-content")(5,"ion-grid")(6,"ion-row")(7,"ion-col")(8,"ion-card",0)(9,"ion-grid")(10,"form",1)(11,"ion-row",2)(12,"ion-col")(13,"ion-card-header")(14,"ion-card-title"),e._uU(15,"Cifrador / Descifrador RSA"),e.qZA()()()(),e.TgZ(16,"ion-row",3)(17,"ion-col")(18,"ion-item",4)(19,"ion-radio-group",5)(20,"ion-radio",6),e._uU(21," Cifrar "),e.qZA(),e.TgZ(22,"ion-radio",7),e._uU(23," Descifrar "),e.qZA()()()(),e.TgZ(24,"ion-col")(25,"ion-item"),e._UZ(26,"ion-input",8),e.qZA()()(),e.TgZ(27,"ion-row",2)(28,"ion-col")(29,"ion-row",9)(30,"ion-col")(31,"ion-item"),e._UZ(32,"ion-input",10),e.qZA(),e.TgZ(33,"ion-item"),e._UZ(34,"ion-input",11),e.qZA(),e.TgZ(35,"ion-item"),e._UZ(36,"ion-input",12),e.qZA()(),e.TgZ(37,"ion-col")(38,"ion-item",4)(39,"ion-button",13),e.NdJ("click",function(){return a.generarClaves()}),e._uU(40," Generar Claves "),e.qZA()()()(),e.TgZ(41,"ion-row")(42,"ion-col")(43,"ion-item"),e._UZ(44,"ion-input",14)(45,"ion-input",15),e.qZA(),e.TgZ(46,"ion-item"),e._UZ(47,"ion-input",16),e.qZA()()()(),e.TgZ(48,"ion-col")(49,"ion-item"),e._UZ(50,"ion-textarea",17),e.TgZ(51,"ion-button",13),e.NdJ("click",function(){return a.calcular()}),e._uU(52," Calcular "),e.qZA()(),e.TgZ(53,"ion-item"),e._UZ(54,"ion-textarea",18),e.qZA(),e.TgZ(55,"ion-item"),e._UZ(56,"ion-textarea",19),e.qZA()()()(),e.TgZ(57,"ion-row",2)(58,"ion-col")(59,"ion-card")(60,"ion-card-header")(61,"ion-card-title"),e._uU(62," Alfabeto "),e.qZA(),e.TgZ(63,"ion-card-subtitle"),e._uU(64," Seleccione los caracteres que desea usar en el proceso de cifrado. "),e.qZA()(),e.TgZ(65,"ion-card-content"),e.YNc(66,w,3,5,"ion-checkbox",20),e.qZA()()()()()()()()()()),2&o&&(e.xp6(10),e.Q6J("formGroup",a.rsaForm),e.xp6(56),e.Q6J("ngForOf",a.alfabeto))},dependencies:[N.sg,t._Y,t.JJ,t.JL,t.On,r.YG,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.nz,r.wI,r.W2,r.jY,r.Gu,r.pK,r.Ie,r.B7,r.se,r.Nd,r.g2,r.wd,r.sr,r.w,r.as,r.U5,r.QI,r.j9,t.sg,t.u,N.gd],styles:[".main-card[_ngcontent-%COMP%]{margin:50px 10%;box-shadow:var(--main-card-box-shadow)}"]}),n})()}];let j=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[A.Bz.forChild(E),A.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.ez,t.u5,r.Pc,j,t.UX]}),n})()}}]);