"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(j,q,P)=>{P.r(q),P.d(q,{HomePageModule:()=>E});var Z=P(6895),a=P(6114),t=P(433),_=P(2598),e=P(8256);function $(l,F){if(1&l){const o=e.EpF();e.TgZ(0,"ion-checkbox",21),e.NdJ("ngModelChange",function(i){const c=e.CHM(o).$implicit;return e.KtG(c.checked=i)}),e._uU(1),e.ALo(2,"uppercase"),e.qZA()}if(2&l){const o=F.$implicit;e.Q6J("ngModel",o.checked)("checked",o.checked),e.xp6(1),e.hij(" ",e.lcZ(2,3,o.value)," ")}}const A=[{path:"",component:(()=>{class l{constructor(o){this.alertCtrl=o,this.alfabeto=[{value:"a",checked:!0},{value:"b",checked:!0},{value:"c",checked:!0},{value:"d",checked:!0},{value:"e",checked:!0},{value:"f",checked:!0},{value:"g",checked:!0},{value:"h",checked:!0},{value:"i",checked:!0},{value:"j",checked:!0},{value:"k",checked:!0},{value:"l",checked:!0},{value:"m",checked:!0},{value:"n",checked:!0},{value:"\xf1",checked:!0},{value:"o",checked:!0},{value:"p",checked:!0},{value:"q",checked:!0},{value:"r",checked:!0},{value:"s",checked:!0},{value:"t",checked:!0},{value:"u",checked:!0},{value:"v",checked:!0},{value:"w",checked:!0},{value:"x",checked:!0},{value:"y",checked:!0},{value:"z",checked:!0},{value:"0",checked:!1},{value:"1",checked:!1},{value:"2",checked:!1},{value:"3",checked:!1},{value:"4",checked:!1},{value:"5",checked:!1},{value:"6",checked:!1},{value:"7",checked:!1},{value:"8",checked:!1},{value:"9",checked:!1}],this.rsaForm=new t.cw({numeroLetrasPorBloque:new t.NI(2,t.kI.required),selectorFuncion:new t.NI("cifrar",t.kI.required),claveP:new t.NI(null,t.kI.required),claveQ:new t.NI(null,t.kI.required),claveE:new t.NI(151,t.kI.required),claveD:new t.NI(null),claveN:new t.NI(2419),clavePhiN:new t.NI(null),mensajePlano:new t.NI("publico",t.kI.required),mensajeFormateado:new t.NI(null),mensajeFinal:new t.NI(null)})}generarClaves(){var o,r,i,s,c,p,v;if(!this.numLetrasPorBloqueCorrecto())return void this.alertCtrl.create({header:"\xa1Error!",message:"El n\xfamero de letras por bloque es incorrecto.",buttons:["Okay"]}).then(n=>{n.present()});const g=null===(o=this.rsaForm.get("claveP"))||void 0===o?void 0:o.value,u=null===(r=this.rsaForm.get("claveQ"))||void 0===r?void 0:r.value,d=null===(i=this.rsaForm.get("claveE"))||void 0===i?void 0:i.value;if(null==g||null==u||null==d)return void this.alertCtrl.create({header:"\xa1Error!",message:"Ingrese las claves completas",buttons:["Okay"]}).then(n=>{n.present()});if(!this.esPrimo(g)||!this.esPrimo(u))return;const k=g*u,f=(g-1)*(u-1),b=null===(s=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===s?void 0:s.value,m=Math.pow(this.totalLetrasAlfabeto(),b);if(Math.pow(this.totalLetrasAlfabeto(),b+1),k<=m)return void this.alertCtrl.create({header:"\xa1Error!",message:"N no cumple la igualdad. Seleccione un n\xfamero de letras por\n            bloque distinto.",buttons:["Okay"]}).then(n=>{n.present()});if(d>=k||d<=1)return void this.alertCtrl.create({header:"\xa1Error!",message:"El valor de e no es permitido",buttons:["Okay"]}).then(n=>{n.present()});for(let n=2;n<d;n++)if(d%n==0&&f%n==0)return void this.alertCtrl.create({header:"\xa1Error!",message:"El valor de e no es primo relativo de Phi(N)",buttons:["Okay"]}).then(N=>{N.present()});let h=0;for(let n=1;n<f;n++)if((n*f+1)%d==0){h=(n*f+1)/d;break}null===(c=this.rsaForm.get("claveD"))||void 0===c||c.patchValue(h),null===(p=this.rsaForm.get("claveN"))||void 0===p||p.patchValue(k),null===(v=this.rsaForm.get("clavePhiN"))||void 0===v||v.patchValue(f)}esPrimo(o){if(2===o||3===o)return!0;if(o<=1||o%2==0||o%3==0)return this.alertaPrimo(o),!1;for(let r=5;r*r<o;r+=6)if(o%r==0||o%(r+2)==0)return this.alertaPrimo(o),!1;return!0}alertaPrimo(o){this.alertCtrl.create({header:"\xa1Error!",message:`${o} no es un n\xfamero primo`,buttons:["Okay"]}).then(r=>{r.present()})}totalLetrasAlfabeto(){let o=0;for(let r of this.alfabeto)r.checked&&o++;return o}calcular(){var o,r,i,s,c,p,v,g;if(!this.numLetrasPorBloqueCorrecto())return void this.alertCtrl.create({header:"\xa1Error!",message:"El n\xfamero de letras por bloque es incorrecto.",buttons:["Okay"]}).then(h=>{h.present()});let u=null===(o=this.rsaForm.get("mensajePlano"))||void 0===o?void 0:o.value;if(null===u||""===u)return;if(u=null===(r=this.rsaForm.get("mensajePlano"))||void 0===r?void 0:r.value.toUpperCase().replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()!\xa1\xbf?]/g,""),u.length%(null===(i=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===i?void 0:i.value)!=0){var d,k;const h=(null===(d=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===d?void 0:d.value)-u.length%(null===(k=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===k?void 0:k.value),n="X";for(let N=0;N<h;N++)u+=n}null===(s=this.rsaForm.get("mensajeFormateado"))||void 0===s||s.patchValue(u);const f=null===(c=this.rsaForm.get("selectorFuncion"))||void 0===c?void 0:c.value,b=null===(p=this.rsaForm.get("claveE"))||void 0===p?void 0:p.value,m=null===(v=this.rsaForm.get("claveN"))||void 0===v?void 0:v.value,C=null===(g=this.rsaForm.get("claveD"))||void 0===g?void 0:g.value;if("cifrar"===f&&null!==b&&null!==m)this.cifrado();else{if("descifrar"!==f||null===C||null===m)return void this.alertCtrl.create({header:"\xa1Error!",message:"Ingrese las claves.",buttons:["Okay"]}).then(h=>{h.present()});this.descifrado()}}cifrado(){var o,r,i,s,c;const p=null===(o=this.rsaForm.get("mensajeFormateado"))||void 0===o?void 0:o.value.split("");let v=[];for(const m of p)v.push(this.asignarPeso(m));let g=[];const u=null===(r=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===r?void 0:r.value;for(let m=0;m<v.length;m+=u){let C="";for(let h=0;h<u;h++)C+=v[m+h];g.push(+C)}let d=[];const k=null===(i=this.rsaForm.get("claveE"))||void 0===i?void 0:i.value,f=null===(s=this.rsaForm.get("claveN"))||void 0===s?void 0:s.value;for(const m of g)d.push(this.calculoExponenteModulo(m,k,f));for(const m of d)console.log(m.toString().split(""));null===(c=this.rsaForm.get("mensajeFinal"))||void 0===c||c.patchValue(d)}descifrado(){}asignarPeso(o){return this.letrasActivas().findIndex(r=>r.value.toUpperCase()===o)}letrasActivas(){return this.alfabeto.filter(o=>!0===o.checked)}numLetrasPorBloqueCorrecto(){var o;return(null===(o=this.rsaForm.get("numeroLetrasPorBloque"))||void 0===o?void 0:o.value)>0}calculoExponenteModulo(o,r,i){if(1===i)return 0;let s=1;for(let c=0;c<r;c++)s=s*o%i;return s}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(a.Br))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-home"]],decls:67,vars:2,consts:[[1,"main-card"],[3,"formGroup"],[1,"ion-margin"],[1,"ion-align-items-center","ion-margin"],["lines","none"],["formControlName","selectorFuncion"],["value","cifrar",1,"ion-margin-bottom"],["value","descifrar",1,"ion-margin-bottom"],["formControlName","numeroLetrasPorBloque","label","Letras por Bloque","labelPlacement","floating","type","number"],[1,"ion-align-items-center"],["label","p","formControlName","claveP","type","number","placeholder","Ingrese un n\xfamero primo","labelPlacement","stacked"],["label","q","formControlName","claveQ","type","number","placeholder","Ingrese un n\xfamero primo","labelPlacement","stacked"],["label","e","formControlName","claveE","type","number","placeholder","Clave de cifrado","labelPlacement","stacked"],[3,"click"],["label","N","formControlName","claveN","type","number","placeholder","N\xfamero N","labelPlacement","floating"],["label","\u03a6(N)","formControlName","clavePhiN","type","number","placeholder","N\xfamero \u03a6(N)","labelPlacement","floating","readonly","true"],["label","d","formControlName","claveD","type","number","placeholder","Clave de descifrado","labelPlacement","floating"],["label","Mensaje","formControlName","mensajePlano","labelPlacement","stacked","placeholder","Ingrese su mensaje ac\xe1","autoGrow","true","rows","1"],["label","Mensaje Formateado","formControlName","mensajeFormateado","labelPlacement","floating","placeholder","El mensaje formateado aparecer\xe1 ac\xe1","readonly","true","autoGrow","true","rows","1"],["label","Mensaje Final","formControlName","mensajeFinal","labelPlacement","floating","placeholder","El mensaje cifrado / descifrado aparecer\xe1 ac\xe1","readonly","true","autoGrow","true","rows","1"],["class","ion-margin",3,"ngModel","checked","ngModelChange",4,"ngFor","ngForOf"],[1,"ion-margin",3,"ngModel","checked","ngModelChange"]],template:function(o,r){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Cifrado RSA para CAYD - C. Camilo Bernal "),e.qZA()()(),e.TgZ(4,"ion-content")(5,"ion-grid")(6,"ion-row")(7,"ion-col")(8,"ion-card",0)(9,"ion-grid")(10,"form",1)(11,"ion-row",2)(12,"ion-col")(13,"ion-card-header")(14,"ion-card-title"),e._uU(15,"Cifrador / Descifrador RSA"),e.qZA()()()(),e.TgZ(16,"ion-row",3)(17,"ion-col")(18,"ion-item",4)(19,"ion-radio-group",5)(20,"ion-radio",6),e._uU(21," Cifrar "),e.qZA(),e.TgZ(22,"ion-radio",7),e._uU(23," Descifrar "),e.qZA()()()(),e.TgZ(24,"ion-col")(25,"ion-item"),e._UZ(26,"ion-input",8),e.qZA()()(),e.TgZ(27,"ion-row",2)(28,"ion-col")(29,"ion-row",9)(30,"ion-col")(31,"ion-item"),e._UZ(32,"ion-input",10),e.qZA(),e.TgZ(33,"ion-item"),e._UZ(34,"ion-input",11),e.qZA(),e.TgZ(35,"ion-item"),e._UZ(36,"ion-input",12),e.qZA()(),e.TgZ(37,"ion-col")(38,"ion-item",4)(39,"ion-button",13),e.NdJ("click",function(){return r.generarClaves()}),e._uU(40," Generar Claves "),e.qZA()()()(),e.TgZ(41,"ion-row")(42,"ion-col")(43,"ion-item"),e._UZ(44,"ion-input",14)(45,"ion-input",15),e.qZA(),e.TgZ(46,"ion-item"),e._UZ(47,"ion-input",16),e.qZA()()()(),e.TgZ(48,"ion-col")(49,"ion-item"),e._UZ(50,"ion-textarea",17),e.TgZ(51,"ion-button",13),e.NdJ("click",function(){return r.calcular()}),e._uU(52," Calcular "),e.qZA()(),e.TgZ(53,"ion-item"),e._UZ(54,"ion-textarea",18),e.qZA(),e.TgZ(55,"ion-item"),e._UZ(56,"ion-textarea",19),e.qZA()()()(),e.TgZ(57,"ion-row",2)(58,"ion-col")(59,"ion-card")(60,"ion-card-header")(61,"ion-card-title"),e._uU(62," Alfabeto "),e.qZA(),e.TgZ(63,"ion-card-subtitle"),e._uU(64," Seleccione los caracteres que desea usar en el proceso de cifrado. "),e.qZA()(),e.TgZ(65,"ion-card-content"),e.YNc(66,$,3,5,"ion-checkbox",20),e.qZA()()()()()()()()()()),2&o&&(e.xp6(10),e.Q6J("formGroup",r.rsaForm),e.xp6(56),e.Q6J("ngForOf",r.alfabeto))},dependencies:[Z.sg,t._Y,t.JJ,t.JL,t.On,a.YG,a.PM,a.FN,a.Zi,a.tO,a.Dq,a.nz,a.wI,a.W2,a.jY,a.Gu,a.pK,a.Ie,a.B7,a.se,a.Nd,a.g2,a.wd,a.sr,a.w,a.as,a.U5,a.QI,a.j9,t.sg,t.u,Z.gd],styles:[".main-card[_ngcontent-%COMP%]{margin:50px 10%;box-shadow:var(--main-card-box-shadow)}"]}),l})()}];let w=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[_.Bz.forChild(A),_.Bz]}),l})(),E=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[Z.ez,t.u5,a.Pc,w,t.UX]}),l})()}}]);